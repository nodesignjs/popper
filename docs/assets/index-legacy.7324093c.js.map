{"version":3,"file":"index-legacy.7324093c.js","sources":["../../vite/modulepreload-polyfill","../../src/constant.ts","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/env.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/destroyable.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/dom.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/is.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/drag.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/format.js","../../node_modules/.pnpm/wblib@1.0.15/node_modules/wblib/es/fn.js","../../src/popper.ts","../../demo/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export enum PLACEMENT {\n  T = 't',\n  TL = 'tl',\n  TR = 'tr',\n  B = 'b',\n  BL = 'bl',\n  BR = 'br',\n  L = 'l',\n  LT = 'lt',\n  LB = 'lb',\n  R = 'r',\n  RT = 'rt',\n  RB = 'rb'\n}\n\nexport enum EmitType {\n  HOVER = 'hover',\n  CLICK = 'click'\n}\n","const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\r\nconst isTouch = isBrowser && ('ontouchstart' in window || navigator.maxTouchPoints > 0);\n\nexport { isBrowser, isTouch };\n","import { isBrowser } from './env.js';\nimport { isBool } from './is.js';\n\nlet thirdOptsSupported = false;\r\nif (isBrowser) {\r\n    try {\r\n        const options = Object.defineProperty({}, 'once', { get() { thirdOptsSupported = true; } });\r\n        window.addEventListener('test', null, options);\r\n        // eslint-disable-next-line no-empty\r\n    }\r\n    catch (e) { }\r\n}\r\nclass DomListener {\r\n    constructor(node, type, handler, options) {\r\n        this.node = node;\r\n        this.type = type;\r\n        this.handler = handler;\r\n        this.options = options;\r\n        this.options = isBool(options) ? options : options ? (thirdOptsSupported && options) : false;\r\n        node.addEventListener(type, handler, this.options);\r\n    }\r\n    destroy() {\r\n        if (!this.node)\r\n            return;\r\n        this.node.removeEventListener(this.type, this.handler, this.options);\r\n        this.node = null;\r\n    }\r\n}\r\nconst destroyableMap = new Map();\r\nfunction getDestroyableMap() {\r\n    return destroyableMap;\r\n}\r\nfunction addDestroyable(key, destroyable) {\r\n    if (!destroyableMap.has(key))\r\n        destroyableMap.set(key, []);\r\n    destroyableMap.get(key).push(destroyable);\r\n    return destroyable;\r\n}\r\nfunction callAndRemoveDestroyable(key, destroyable) {\r\n    if (!destroyable)\r\n        return;\r\n    if (destroyableMap.has(key)) {\r\n        destroyableMap.set(key, destroyableMap.get(key).filter((x) => x !== destroyable));\r\n    }\r\n    destroyable.destroy();\r\n}\r\nfunction destroy(key) {\r\n    if (destroyableMap.has(key)) {\r\n        destroyableMap.get(key).forEach((item) => item.destroy());\r\n        destroyableMap.delete(key);\r\n    }\r\n}\r\nfunction addDestroyableListener(key, el, type, listener, options) {\r\n    const domListener = new DomListener(el, type, listener, options);\r\n    if (key)\r\n        addDestroyable(key, domListener);\r\n    return domListener;\r\n}\n\nexport { DomListener, addDestroyable, addDestroyableListener, callAndRemoveDestroyable, destroy, getDestroyableMap };\n","import { isString } from './is.js';\n\nconst SELECTOR_REGEX = /([\\w-]+)?(?:#([\\w-]+))?((?:\\.(?:[\\w-]+))*)/;\r\nfunction $(desc, attrs, children, classPrefix = '') {\r\n    let match = [];\r\n    if (desc)\r\n        match = SELECTOR_REGEX.exec(desc) || [];\r\n    const el = document.createElement(match[1] || 'div');\r\n    if (match[2])\r\n        el.id = match[3];\r\n    if (match[3])\r\n        el.className = match[3].replace(/\\./g, ` ${classPrefix}`).trim();\r\n    if (attrs) {\r\n        Object.keys(attrs).forEach((name) => {\r\n            const value = attrs[name];\r\n            if (value === undefined)\r\n                return;\r\n            if (name === 'selected') {\r\n                if (value) {\r\n                    el.setAttribute(name, 'true');\r\n                }\r\n            }\r\n            else {\r\n                el.setAttribute(name, value);\r\n            }\r\n        });\r\n    }\r\n    if (children) {\r\n        if (isString(children)) {\r\n            el.innerHTML = children;\r\n        }\r\n        else {\r\n            children.forEach((c) => el.appendChild(c));\r\n        }\r\n    }\r\n    return el;\r\n}\r\nfunction removeNode(node) {\r\n    if (!node)\r\n        return;\r\n    if (node.remove) {\r\n        node.remove();\r\n    }\r\n    else if (node.parentNode) {\r\n        node.parentNode.removeChild(node);\r\n    }\r\n}\r\nfunction addClass(dom, cls = '', prefix = '') {\r\n    cls = cls.trim();\r\n    if (!cls)\r\n        return dom;\r\n    if (dom.classList) {\r\n        cls.split(' ').forEach((c) => dom.classList.add(prefix + c));\r\n    }\r\n    else {\r\n        const oldCls = (dom.className && dom.className.baseVal) || '';\r\n        dom.setAttribute('class', (oldCls ? `${oldCls} ` : '') + cls.split(' ').map((c) => prefix + c).join(' '));\r\n    }\r\n    return dom;\r\n}\r\nfunction removeClass(dom, cls, prefix = '') {\r\n    dom.classList.remove(prefix + cls);\r\n    return dom;\r\n}\r\nfunction containClass(dom, cls, prefix = '') {\r\n    return dom.classList.contains(prefix + cls);\r\n}\r\nfunction toggleClass(dom, cls, force, prefix = '') {\r\n    cls = prefix + cls;\r\n    if (force) {\r\n        dom.classList.add(cls);\r\n        return true;\r\n    }\r\n    if (force === false) {\r\n        dom.classList.remove(cls);\r\n        return true;\r\n    }\r\n    return dom.classList.toggle(cls, force);\r\n}\r\nfunction show(node) {\r\n    node.style.display = '';\r\n}\r\nfunction hide(node) {\r\n    node.style.display = 'none';\r\n}\r\nfunction create$(desc2, attrs2, children2, classPrefix2) {\r\n    return (desc, attrs, children, classPrefix = '') => $(desc || desc2, attrs || attrs2, children || children2, classPrefix || classPrefix2);\r\n}\r\nconst svgNS = 'http://www.w3.org/2000/svg';\n\nexport { $, addClass, containClass, create$, hide, removeClass, removeNode, show, svgNS, toggleClass };\n","const toString = Object.prototype.toString;\r\nfunction isString(o) {\r\n    return typeof o === 'string' || o instanceof String;\r\n}\r\nfunction isBool(o) {\r\n    return o === true || o === false || (toString.call(o) === '[object Boolean]');\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === 'number' || (toString.call(o) === '[object Number]');\r\n}\r\nfunction isValidNumber(o) {\r\n    const r = isNumber(o);\r\n    if (!r)\r\n        return r;\r\n    // eslint-disable-next-line no-restricted-globals\r\n    return (!isNaN(o) && isFinite(o));\r\n}\n\nexport { isBool, isFunction, isNumber, isString, isValidNumber };\n","class Drag {\r\n    constructor(el, start, move, end) {\r\n        this.el = el;\r\n        this.start = start;\r\n        this.move = move;\r\n        this.end = end;\r\n        this.pending = false;\r\n        this.downHandler = (ev) => {\r\n            this.el.setPointerCapture(ev.pointerId);\r\n            this.el.addEventListener('pointermove', this.moveHandler, true);\r\n            this.el.addEventListener('pointerup', this.upHandler, true);\r\n            this.el.addEventListener('pointercancel', this.upHandler, true);\r\n            this.start(ev);\r\n        };\r\n        this.moveHandler = (ev) => {\r\n            this.lastEv = ev;\r\n            if (this.pending)\r\n                return;\r\n            this.pending = true;\r\n            this.rafId = requestAnimationFrame(this.handlerMove);\r\n        };\r\n        this.handlerMove = () => {\r\n            this.move(this.lastEv);\r\n            this.pending = false;\r\n        };\r\n        this.upHandler = (ev) => {\r\n            this.removePointerEvents();\r\n            this.pending = false;\r\n            if (this.end) {\r\n                cancelAnimationFrame(this.rafId);\r\n                this.end(ev);\r\n            }\r\n        };\r\n        this.el = el;\r\n        this.start = start;\r\n        this.move = move;\r\n        this.end = end;\r\n        el.addEventListener('pointerdown', this.downHandler, true);\r\n    }\r\n    removePointerEvents() {\r\n        this.el.removeEventListener('pointermove', this.moveHandler, true);\r\n        this.el.removeEventListener('pointerup', this.upHandler, true);\r\n        this.el.removeEventListener('pointercancel', this.upHandler, true);\r\n    }\r\n    destroy() {\r\n        if (!this.el)\r\n            return;\r\n        this.el.removeEventListener('pointerdown', this.downHandler, true);\r\n        this.removePointerEvents();\r\n        this.el = null;\r\n    }\r\n}\n\nexport { Drag };\n","function padStart(v, len = 2, str = '0') {\r\n    v = String(v);\r\n    if (v.padStart)\r\n        return v.padStart(len, str);\r\n    if (v.length >= len)\r\n        return v;\r\n    for (let i = 0, l = len - v.length; i < l; i++) {\r\n        v = str + v;\r\n    }\r\n    return v;\r\n}\r\nfunction formatTime(seconds) {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (!isFinite(seconds) || isNaN(seconds))\r\n        return '';\r\n    if (!seconds)\r\n        return '0:00';\r\n    const isNeg = seconds < 0;\r\n    if (isNeg)\r\n        seconds *= -1;\r\n    let ret;\r\n    seconds = Math.round(seconds);\r\n    if (seconds < 60) {\r\n        ret = `0:${padStart(seconds)}`;\r\n    }\r\n    else if (seconds < 3600) {\r\n        ret = `${~~(seconds / 60)}:${padStart(seconds % 60)}`;\r\n    }\r\n    else {\r\n        ret = `${~~(seconds / 3600)}:${padStart(~~((seconds % 3600) / 60))}:${padStart(seconds % 60)}`;\r\n    }\r\n    return isNeg ? `-${ret}` : ret;\r\n}\r\nfunction clamp(n, lower = 0, upper = 1) {\r\n    return Math.max(Math.min(n, upper), lower);\r\n}\n\nexport { clamp, formatTime };\n","import { isBrowser } from './env.js';\nimport { isFunction } from './is.js';\n\nfunction throttle(fn, ctx) {\r\n    let pending = false;\r\n    let first = true;\r\n    let args = null;\r\n    return function () {\r\n        args = arguments;\r\n        if (first) {\r\n            first = false;\r\n            return fn.apply(ctx, args);\r\n        }\r\n        if (pending)\r\n            return;\r\n        pending = true;\r\n        requestAnimationFrame(() => {\r\n            fn.apply(ctx, args);\r\n            pending = false;\r\n        });\r\n    };\r\n}\r\nfunction throttleTime(fn, time = 0, ctx) {\r\n    let pending = false;\r\n    let first = true;\r\n    let args = null;\r\n    return function () {\r\n        args = arguments;\r\n        if (first) {\r\n            first = false;\r\n            return fn.apply(ctx, args);\r\n        }\r\n        if (pending)\r\n            return;\r\n        pending = true;\r\n        setTimeout(() => {\r\n            fn.apply(ctx, args);\r\n            pending = false;\r\n        }, time);\r\n    };\r\n}\r\nfunction getChangedAttrs(newV, oldV, updateOld = false) {\r\n    const patch = [];\r\n    Object.keys(newV).forEach((x) => {\r\n        if (newV[x] !== oldV[x]) {\r\n            patch.push([x, newV[x], oldV[x]]);\r\n            if (updateOld)\r\n                oldV[x] = newV[x];\r\n        }\r\n    });\r\n    return patch;\r\n}\r\nconst nextTick = isBrowser && 'queueMicrotask' in window && isFunction(queueMicrotask) ? queueMicrotask : (fn) => Promise.resolve().then(fn);\n\nexport { getChangedAttrs, nextTick, throttle, throttleTime };\n","import {\n  addClass, Destroyable, removeClass, destroy, throttle, $, getChangedAttrs, Drag, clamp,\n} from 'wblib';\nimport type {\n  Position, Rect, PopperConfig, CssName, TransitionInfo,\n} from './type';\nimport { EmitType, PLACEMENT } from './constant';\n\nfunction getConfig(config: PopperConfig) {\n  const cfg = {\n    container: document.body,\n    placement: PLACEMENT.T,\n    autoPlacement: true,\n    autoUpdate: true,\n    autoScroll: true,\n    clickOutsideClose: true,\n    closeAni: true,\n    enterable: true,\n    maxHeight: true,\n    ...config,\n  } as PopperConfig;\n\n  if (!cfg.translate) {\n    cfg.translate = [0, 0];\n  }\n\n  return cfg;\n}\n\nexport function createArrow(style?: CSSStyleDeclaration, cls?: string) {\n  const el = $();\n  if (cls) addClass(el, cls);\n  Object.assign(el.style, {\n    width: '10px',\n    height: '10px',\n    transform: 'rotate(45deg)',\n    transformOrigin: 'center',\n    ...style,\n  });\n  return el as HTMLElement;\n}\n\nexport class Popper implements Destroyable {\n  el!: HTMLElement;\n\n  config!: PopperConfig;\n\n  opened = false;\n\n  isAnimating = false;\n\n  private closed = true;\n\n  private cel!: HTMLElement;\n\n  private cssName?: CssName;\n\n  private showRaf?: any;\n\n  private hideRaf?: any;\n\n  private showTransInfo?: ReturnType<typeof getTransitionInfo>;\n\n  private hideTransInfo?: ReturnType<typeof getTransitionInfo>;\n\n  private clearShow?: () => void;\n\n  private clearHide?: () => void;\n\n  private scrollEls?: HTMLElement[];\n\n  private isTriggerEl!: boolean;\n\n  private arrowEl?: HTMLElement;\n\n  private popHide = false;\n\n  private arrowHide = false;\n\n  private ro?: ResizeObserver;\n\n  private openTimer?: any;\n\n  private closeTimer?: any;\n\n  private prevP?: PLACEMENT;\n\n  private drag?: Drag;\n\n  constructor(config: PopperConfig) {\n    if (config) this.init(config);\n  }\n\n  protected init(config: PopperConfig) {\n    config = this.config = getConfig(config);\n\n    this.cel = $();\n    const { style } = this.cel;\n    style.position = 'absolute';\n    style.left = style.top = '0';\n\n    const {\n      content, container, trigger,\n    } = config;\n\n    if (config.overflowHidden == null) config.overflowHidden = isElClipped(container!);\n    this.el = this.cel.appendChild($());\n    this.el.appendChild(content);\n\n    this.isTriggerEl = trigger instanceof Element;\n    if (config.autoUpdate) this.observe();\n\n    if (this.needListenScroll()) {\n      this.scrollEls = getScrollElements(trigger as HTMLElement, container!);\n    }\n\n    if (config.arrow) {\n      this.arrowEl = createArrowWrapper();\n      this.arrowEl.appendChild(config.arrow);\n      this.el.appendChild(this.arrowEl);\n    }\n\n    this.setCssName();\n    this.addTriEv();\n    this.addEnterEv();\n\n    if (config.open) {\n      requestAnimationFrame(() => this.open());\n    }\n\n    if (config.keepDom) {\n      hideDom(this.cel);\n      container!.appendChild(this.cel);\n    }\n  }\n\n  update() {\n    if (this.opened && !this.isAnimating) this.open();\n  }\n\n  updateConfig(config: Partial<PopperConfig>) {\n    const changed = getChangedAttrs(config, this.config, true);\n    if (!changed.length) return;\n\n    changed.forEach(([k, n, o]) => {\n      switch (k) {\n        case 'content':\n          this.el.removeChild(o as HTMLElement);\n          if (n) this.el.appendChild(n as HTMLElement);\n          break;\n        case 'emit':\n          if (this.isTriggerEl) {\n            this.removeEmitEv();\n            if (n) this.addTriEv();\n          }\n          this.removeEnterEv();\n          this.addEnterEv();\n          break;\n        case 'container':\n          if (!n) config.container = document.body;\n          if (this.ro) {\n            this.ro.unobserve(o as HTMLElement);\n            this.ro.observe(config.container as HTMLElement);\n          }\n          break;\n        case 'triggerOpenClass':\n          if (this.opened && this.isTriggerEl) {\n            const { trigger } = this.config;\n            if (o) removeClass(trigger as Element, o as string);\n            if (n) addClass(trigger as Element, n as string);\n          }\n          break;\n        case 'enterable':\n          this.removeEnterEv();\n          if (n) this.addEnterEv();\n          break;\n        case 'keepDom':\n          if (n) {\n            if (!this.opened) {\n              hideDom(this.cel);\n              config.container!.appendChild(this.cel);\n            }\n          } else if (!this.opened) {\n              config.container!.removeChild(this.cel);\n              showDom(this.cel);\n          }\n          break;\n        case 'trigger': {\n          const oldIsTriggerEl = this.isTriggerEl;\n          const { triggerOpenClass } = this.config;\n          if (oldIsTriggerEl) {\n            this.removeEmitEv(o as HTMLElement);\n            if (triggerOpenClass) {\n              removeClass(o as Element, triggerOpenClass);\n            }\n          }\n          this.isTriggerEl = n instanceof Element;\n          if (this.ro) {\n            if (oldIsTriggerEl) this.ro.unobserve(o as HTMLElement);\n            if (this.isTriggerEl) this.ro.observe(n as HTMLElement);\n          }\n          if (this.isTriggerEl) {\n            this.addTriEv();\n            if (this.opened && triggerOpenClass) {\n              addClass(o as Element, triggerOpenClass);\n            }\n          }\n          const need = this.needListenScroll();\n          if (need) {\n            if (!this.scrollEls) {\n              const c = this.config;\n              this.scrollEls = getScrollElements(c.trigger! as HTMLElement, c.container!);\n            }\n          } else if (this.scrollEls) {\n            this.removeScrollEv();\n            this.scrollEls = undefined;\n          }\n        }\n          break;\n        case 'autoScroll':\n        case 'closeOnScroll':\n          {\n            const need = this.needListenScroll();\n            if (need) {\n              if (!this.scrollEls) {\n                const c = this.config;\n                this.scrollEls = getScrollElements(c.trigger! as HTMLElement, c.container!);\n                if (this.opened) {\n                  this.scrollEls?.forEach((x) => {\n                    x.addEventListener('scroll', this.onScroll, { passive: true });\n                  });\n                }\n              }\n            } else if (this.scrollEls) {\n              this.removeScrollEv();\n              this.scrollEls = undefined;\n            }\n          }\n          break;\n        case 'arrow':\n          if (this.arrowEl) {\n            this.arrowEl.removeChild(o as Node);\n            if (!n) {\n              this.el.removeChild(this.arrowEl);\n              this.arrowEl = undefined;\n            }\n          }\n          if (n) {\n            this.arrowEl = this.arrowEl || createArrowWrapper();\n            this.arrowEl.appendChild(n as Node);\n            this.el.appendChild(this.arrowEl);\n          }\n          break;\n        case 'autoUpdate':\n          if (n) {\n            if (!this.ro) this.observe();\n          } else if (this.ro) {\n            this.ro.disconnect();\n            this.ro = undefined;\n          }\n          break;\n        case 'cssName':\n          this.setCssName();\n          break;\n        case 'disabled':\n          if (n) this.disable();\n          break;\n        case 'maxHeight':\n          if (!n) {\n            const { style } = (config.content as HTMLElement);\n            if (style) style.maxHeight = '';\n          }\n          break;\n        case 'maxWidth':\n          if (!n) {\n            const { style } = (config.content as HTMLElement);\n            if (style) style.maxWidth = '';\n          }\n          break;\n      }\n    });\n\n    this.update();\n  }\n\n  destroy() {\n    const { container } = this.config;\n    if (this.ro) {\n      this.ro.disconnect();\n      this.ro = undefined;\n    }\n    if (this.opened) {\n      try {\n        container!.removeChild(this.cel);\n      } catch (e) {\n        //\n      }\n    }\n    cancelAnimationFrame(this.showRaf);\n    cancelAnimationFrame(this.hideRaf);\n    this.clearShow?.();\n    this.clearHide?.();\n    this.isAnimating = true;\n    this.opened = false;\n    this.removeScrollEv();\n    this.removeDocClick();\n    this.removeEmitEv();\n    this.removeEnterEv();\n    if (this.drag) {\n      this.drag.destroy();\n      this.drag = undefined;\n    }\n    destroy(this);\n  }\n\n  open() {\n    if (this.config.disabled) return;\n    this.closed = false;\n    const {\n      config, cssName, opened, el, arrowEl,\n    } = this;\n    const { container, trigger } = config;\n    const fromHide = !opened;\n    if (fromHide) {\n      if (this.isAnimating) return;\n      this.show();\n      this.scrollEls?.forEach((x) => {\n        x.addEventListener('scroll', this.onScroll, { passive: true });\n      });\n      document.addEventListener('pointerdown', this.onDocClick);\n    }\n\n    const cStyle = (config.content as HTMLElement).style;\n    const needMaxHeight = cStyle && config.maxHeight;\n    const needMaxWidth = cStyle && config.maxWidth;\n\n    if (needMaxHeight) cStyle.maxHeight = '';\n    if (needMaxWidth) cStyle.maxWidth = '';\n\n    this.opened = true;\n    const popBcr = el.getBoundingClientRect();\n    const containerBcr = container!.getBoundingClientRect();\n    const arrowBcr = arrowEl?.getBoundingClientRect();\n    let triggerBcr = trigger.getBoundingClientRect() as Rect;\n\n    if (this.isTriggerEl) {\n      triggerBcr = {\n        left: triggerBcr.left - containerBcr.left,\n        top: triggerBcr.top - containerBcr.top,\n        width: triggerBcr.width,\n        height: triggerBcr.height,\n      };\n      if (config.triggerOpenClass) addClass(trigger as Element, config.triggerOpenClass);\n    }\n\n    this.isAnimating = true;\n    if (fromHide && cssName) {\n      const { onBeforeEnter } = config;\n      if (onBeforeEnter) onBeforeEnter();\n      addClass(el, cssName.enterFrom);\n      this.showRaf = requestAnimationFrame(() => {\n        removeClass(el, cssName.enterFrom);\n        addClass(el, cssName.enterActive);\n        addClass(el, cssName.enterTo);\n        const info = this.getTransitionInfo(el, this.showTransInfo);\n        this.showTransInfo = info.info;\n        this.clearShow = info.clear;\n        info.promise.then(this.onShowTransitionEnd);\n      });\n    } else {\n      requestAnimationFrame(() => {\n        this.isAnimating = false;\n      });\n    }\n\n    const ret = config.useTriggerPos ? {\n      xy: [triggerBcr.left, triggerBcr.top],\n      position: config.placement!,\n      maxHeight: needMaxHeight ? containerBcr.height - triggerBcr.top : 0,\n      maxWidth: needMaxWidth ? containerBcr.width - triggerBcr.left : 0,\n    } : getPopStyle(\n      config.placement!,\n      containerBcr,\n      triggerBcr,\n      popBcr,\n      config.translate!,\n      config.autoPlacement,\n      config.overflowHidden,\n      config.coverTrigger,\n      arrowBcr,\n      config.hideOnInvisible,\n      config.changePosOnly,\n      needMaxHeight,\n      needMaxWidth,\n    );\n\n    const { onBeforePosition, onOpen } = config;\n    if (onBeforePosition) onBeforePosition(ret);\n\n    if (cssName && ret.position !== this.prevP) {\n      if (this.prevP) removeClass(el, `${config.cssName}-${this.prevP}`);\n      this.prevP = ret.position;\n      addClass(el, `${config.cssName}-${ret.position}`);\n    }\n\n    const { xy } = ret;\n    if (xy) {\n      if (this.popHide) {\n        this.popHide = false;\n        showDom(this.cel);\n      }\n      this.cel.style.transform = `translate3d(${xy[0]}px,${xy[1]}px,0)`;\n      if (needMaxHeight && ret.maxHeight) {\n        cStyle.maxHeight = `${ret.maxHeight}px`;\n      }\n      if (needMaxWidth && ret.maxWidth) {\n        cStyle.maxWidth = `${ret.maxWidth}px`;\n      }\n      if (fromHide && config.dragEl) {\n        const diffXY: number[] = [];\n        const curXY: number[] = [];\n        const maxX = containerBcr.width - popBcr.width;\n        const maxY = containerBcr.height - popBcr.height;\n        this.drag = new Drag(config.dragEl, (ev: PointerEvent) => {\n          diffXY[0] = xy[0] - ev.clientX;\n          diffXY[1] = xy[1] - ev.clientY;\n        }, (ev: PointerEvent) => {\n          curXY[0] = clamp(diffXY[0] + ev.clientX, 0, maxX);\n          curXY[1] = clamp(diffXY[1] + ev.clientY, 0, maxY);\n          this.cel.style.transform = `translate3d(${curXY[0]}px,${curXY[1]}px,0)`;\n        }, () => {\n          xy[0] = curXY[0];\n          xy[1] = curXY[1];\n        });\n      }\n    } else if (!this.popHide) {\n      hideDom(this.cel);\n      this.popHide = true;\n    }\n    if (arrowEl) {\n      if (ret.arrowXY) {\n        if (this.arrowHide) {\n          this.arrowHide = false;\n          showDom(arrowEl);\n        }\n        arrowEl.style.transform = `translate(${ret.arrowXY[0]}px,${ret.arrowXY[1]}px)`;\n      } else if (!this.arrowHide) {\n        this.arrowHide = true;\n        hideDom(arrowEl);\n      }\n    }\n\n    if (fromHide && onOpen) onOpen();\n  }\n\n  close() {\n    this.closed = true;\n    if (this.isAnimating || !this.opened) return;\n    this.opened = false;\n\n    const { config, cssName, el } = this;\n    const { onClose } = config;\n    if (config.closeAni && cssName) {\n      const { onBeforeExit } = config;\n      if (onBeforeExit) onBeforeExit();\n      addClass(el, cssName.exitFrom);\n      this.isAnimating = true;\n      this.hideRaf = requestAnimationFrame(() => {\n        removeClass(el, cssName.exitFrom);\n        addClass(el, cssName.exitActive);\n        addClass(el, cssName.exitTo);\n        const info = this.getTransitionInfo(el, this.hideTransInfo);\n        this.hideTransInfo = info.info;\n        this.clearHide = info.clear;\n        info.promise.then(this.onHideTransitionEnd);\n      });\n    } else {\n      this.hide();\n    }\n\n    if (this.isTriggerEl && config.triggerOpenClass) {\n      removeClass(config.trigger as Element, config.triggerOpenClass);\n    }\n\n    this.removeScrollEv();\n    this.removeDocClick();\n    if (this.drag) {\n      this.drag.destroy();\n      this.drag = undefined;\n    }\n    if (onClose) onClose();\n    document.removeEventListener('pointerdown', this.onDocClick);\n  }\n\n  toggle() {\n    if (this.opened) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  enable() {\n    this.config.disabled = false;\n  }\n\n  disable() {\n    this.config.disabled = true;\n    this.close();\n  }\n\n  onScroll = throttle(() => {\n    if (this.config.closeOnScroll) {\n      this.close();\n    } else {\n      this.update();\n    }\n  });\n\n  openWithDelay() {\n    this.clearOCTimer();\n    const { openDelay } = this.config;\n    if (openDelay) {\n      this.openTimer = setTimeout(() => {\n        this.open();\n      }, openDelay);\n    } else {\n      this.open();\n    }\n  }\n\n  closeWithDelay() {\n    this.clearOCTimer();\n    const { closeDelay } = this.config;\n    if (closeDelay) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, closeDelay);\n    } else {\n      this.close();\n    }\n  }\n\n  private show() {\n    const { config } = this;\n    if (config.keepDom) {\n      showDom(this.cel);\n    } else {\n      config.container!.appendChild(this.cel);\n    }\n  }\n\n  private hide() {\n    const { config } = this;\n    if (config.keepDom) {\n      hideDom(this.cel);\n    } else {\n      config.container!.removeChild(this.cel);\n    }\n  }\n\n  private onTriClick = () => {\n    if (this.opened) {\n      this.closeWithDelay();\n    } else {\n      this.openWithDelay();\n    }\n  };\n\n  private onTriEnter = () => {\n    this.clearOCTimer();\n    if (this.isAnimating) this.closed = false;\n    if (this.opened) return;\n    this.openWithDelay();\n  };\n\n  private onTriLeave = () => {\n    this.clearOCTimer();\n    if (this.isAnimating) this.closed = true;\n    if (!this.opened) return;\n    this.closeWithDelay();\n  };\n\n  private clearOCTimer = () => {\n    clearTimeout(this.openTimer);\n    clearTimeout(this.closeTimer);\n  };\n\n  private removeDocClick = () => {\n    document.removeEventListener('pointerdown', this.onDocClick);\n  };\n\n  private removeEmitEv(el?: HTMLElement) {\n    el = el || (this.config.trigger as HTMLElement);\n    if (el instanceof Element) {\n      (el as HTMLElement).removeEventListener('click', this.onTriClick);\n      (el as HTMLElement).removeEventListener('mouseenter', this.onTriEnter);\n      (el as HTMLElement).removeEventListener('mouseleave', this.onTriLeave);\n    }\n  }\n\n  private onDocClick = ({ target }: MouseEvent) => {\n    const { config } = this;\n    const { onClickOutside, clickOutsideClose } = config;\n\n    if (onClickOutside || clickOutsideClose) {\n      if (\n        this.el?.contains((target as Element))\n        || (this.isTriggerEl && (config.trigger as Element)?.contains(target as Element))\n        || (config.clickOutsideIgnoreEl && config.clickOutsideIgnoreEl.contains(target as Element))\n      ) return;\n      onClickOutside?.();\n      if (clickOutsideClose) this.closeWithDelay();\n    }\n  };\n\n  private observe() {\n    const { config } = this;\n    const ro = this.ro = new ResizeObserver(() => this.update());\n    ro.observe(this.el);\n    ro.observe(config.container!);\n    if (this.isTriggerEl) ro.observe(config.trigger as HTMLElement);\n  }\n\n  private addTriEv() {\n    const { config } = this;\n    if (this.isTriggerEl && config.emit) {\n      const { trigger } = config;\n      if (config.emit === EmitType.CLICK) {\n        (trigger as HTMLElement).addEventListener('click', this.onTriClick);\n      } else {\n        (trigger as HTMLElement).addEventListener('mouseenter', this.onTriEnter);\n        (trigger as HTMLElement).addEventListener('mouseleave', this.onTriLeave);\n      }\n    }\n  }\n\n  private addEnterEv() {\n    const { config } = this;\n    if (config.enterable && config.emit === EmitType.HOVER) {\n      this.cel.addEventListener('mouseenter', this.onTriEnter);\n      this.cel.addEventListener('mouseleave', this.onTriLeave);\n    }\n  }\n\n  private removeEnterEv() {\n    this.cel.removeEventListener('mouseenter', this.onTriEnter);\n    this.cel.removeEventListener('mouseleave', this.onTriLeave);\n  }\n\n  private removeScrollEv() {\n    this.scrollEls?.forEach((x) => x.removeEventListener('scroll', this.onScroll));\n  }\n\n  private getTransitionInfo(el: Element, info?: TransitionInfo) {\n    let clear: undefined | (() => void);\n    const promise = new Promise((resolve) => {\n      const { event, timeout } = info || getTransitionInfo(el);\n      if (timeout) {\n        const fn = () => {\n          clear?.();\n          resolve(null);\n        };\n        el.addEventListener(event!, fn);\n        const timer = setTimeout(() => {\n          clear?.();\n          resolve(null);\n        }, timeout + 2);\n        clear = () => {\n          clearTimeout(timer);\n          el.removeEventListener(event!, fn);\n        };\n      } else {\n        requestAnimationFrame(resolve);\n      }\n    });\n\n    return {\n      promise,\n      clear,\n      info,\n    };\n  }\n\n  private onShowTransitionEnd = () => {\n    const { cssName, el } = this;\n    const { onEntered } = this.config;\n    removeClass(el, cssName!.enterActive);\n    removeClass(el, cssName!.enterTo);\n    this.isAnimating = false;\n    if (onEntered) onEntered();\n    if (this.closed) this.closeWithDelay();\n  };\n\n  private onHideTransitionEnd = () => {\n    const { cssName, config, el } = this;\n    const { onExited } = config;\n    this.hide();\n    removeClass(el, cssName!.exitActive);\n    removeClass(el, cssName!.exitTo);\n    this.isAnimating = false;\n    if (onExited) onExited();\n    if (!this.closed) this.openWithDelay();\n  };\n\n  private needListenScroll() {\n    const { config } = this;\n    return this.isTriggerEl && config.container && (config.autoScroll || config.closeOnScroll);\n  }\n\n  private setCssName() {\n    const { cssName } = this.config;\n    this.cssName = cssName ? {\n      enterFrom: `${cssName}-enter-from`,\n      enterActive: `${cssName}-enter-active`,\n      enterTo: `${cssName}-enter-to`,\n      exitFrom: `${cssName}-exit-from`,\n      exitActive: `${cssName}-exit-active`,\n      exitTo: `${cssName}-exit-to`,\n    } : undefined;\n  }\n}\n\nfunction getPopupOffset(\n  position: PLACEMENT,\n  triggerRect: Rect,\n  popWH: Rect,\n  translate: number[],\n) {\n  switch (position) {\n    case PLACEMENT.T:\n      return [\n        triggerRect.left + triggerRect.width / 2 - popWH.width / 2 + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.TL:\n      return [\n        triggerRect.left + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.TR:\n      return [\n        triggerRect.left + triggerRect.width - popWH.width + translate[0],\n        triggerRect.top - popWH.height + translate[1],\n      ];\n    case PLACEMENT.B:\n      return [\n        triggerRect.left + triggerRect.width / 2 - popWH.width / 2 + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.BL:\n      return [\n        triggerRect.left + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.BR:\n      return [\n        triggerRect.left + triggerRect.width - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height + translate[1],\n      ];\n    case PLACEMENT.L:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height / 2 - popWH.height / 2 + translate[1],\n      ];\n    case PLACEMENT.LT:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + translate[1],\n      ];\n    case PLACEMENT.LB:\n      return [\n        triggerRect.left - popWH.width + translate[0],\n        triggerRect.top + triggerRect.height - popWH.height + translate[1],\n      ];\n    case PLACEMENT.R:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + triggerRect.height / 2 - popWH.height / 2 + translate[1],\n      ];\n    case PLACEMENT.RT:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + translate[1],\n      ];\n    case PLACEMENT.RB:\n      return [\n        triggerRect.left + triggerRect.width + translate[0],\n        triggerRect.top + triggerRect.height - popWH.height + translate[1],\n      ];\n    default:\n      return [0, 0];\n  }\n}\n\nfunction getBoundaryPosition(position: PLACEMENT) {\n  switch (position) {\n    case PLACEMENT.T:\n    case PLACEMENT.TL:\n    case PLACEMENT.TR:\n      return PLACEMENT.T;\n    case PLACEMENT.B:\n    case PLACEMENT.BL:\n    case PLACEMENT.BR:\n      return PLACEMENT.B;\n    case PLACEMENT.L:\n    case PLACEMENT.LT:\n    case PLACEMENT.LB:\n      return PLACEMENT.L;\n    case PLACEMENT.R:\n    case PLACEMENT.RT:\n    case PLACEMENT.RB:\n      return PLACEMENT.R;\n    default:\n      return PLACEMENT.T;\n  }\n}\n\nfunction changePosition(\n  position: PLACEMENT,\n  direction: ReturnType<typeof getBoundaryPosition>,\n): PLACEMENT {\n  switch (direction) {\n    case PLACEMENT.T:\n      switch (position) {\n        case PLACEMENT.B:\n          return PLACEMENT.T;\n        case PLACEMENT.BL:\n          return PLACEMENT.TL;\n        case PLACEMENT.BR:\n          return PLACEMENT.TR;\n        default:\n          return position;\n      }\n    case PLACEMENT.B:\n      switch (position) {\n        case PLACEMENT.T:\n          return PLACEMENT.B;\n        case PLACEMENT.TL:\n          return PLACEMENT.BL;\n        case PLACEMENT.TR:\n          return PLACEMENT.BR;\n        default:\n          return position;\n      }\n    case PLACEMENT.L:\n      switch (position) {\n        case PLACEMENT.R:\n          return PLACEMENT.L;\n        case PLACEMENT.RT:\n          return PLACEMENT.LT;\n        case PLACEMENT.RB:\n          return PLACEMENT.LB;\n        default:\n          return position;\n      }\n    case PLACEMENT.R:\n      switch (position) {\n        case PLACEMENT.L:\n          return PLACEMENT.R;\n        case PLACEMENT.LT:\n          return PLACEMENT.RT;\n        case PLACEMENT.LB:\n          return PLACEMENT.RB;\n        default:\n          return position;\n      }\n    default:\n      return position;\n  }\n}\n\nfunction getFitPosition(\n  position: PLACEMENT,\n  popupPosition: number[],\n  containerRect: Rect,\n  popWH: Rect,\n  triggerRect: Rect,\n  translate: number[],\n  direction: PLACEMENT,\n  overflow?: boolean,\n  changePosOnly?: boolean,\n  needMaxHeight?: boolean,\n  needMaxWidth?: boolean,\n): [PLACEMENT, number, number] {\n  const viewPortSize = [\n    document.documentElement.clientWidth || window.innerWidth,\n    document.documentElement.clientHeight || window.innerHeight,\n  ];\n\n  const boundary = [\n    overflow ? Math.max(containerRect.left, 0) : 0,\n    overflow ? Math.max(containerRect.top, 0) : 0,\n    overflow ? Math.min(containerRect.left + containerRect.width, viewPortSize[0]) : viewPortSize[0],\n    overflow ? Math.min(containerRect.top + containerRect.height, viewPortSize[1]) : viewPortSize[1],\n  ];\n\n  const x = containerRect.left + popupPosition[0];\n  const y = containerRect.top + popupPosition[1];\n  const popRect = [\n    x,\n    y,\n    x + popWH.width,\n    y + popWH.height,\n  ];\n\n  const triggerX = containerRect.left + triggerRect.left;\n  const triggerY = containerRect.top + triggerRect.top;\n  const triggerEx = triggerX + triggerRect.width;\n  const triggerEy = triggerY + triggerRect.height;\n  let finalPosition = position;\n\n  if (direction === PLACEMENT.T) {\n    if (y < boundary[1]) {\n      if (boundary[3] - triggerEy + translate[1] >= popWH.height && triggerEy - translate[1] >= boundary[1]) {\n        popupPosition[1] = getPopupOffset(PLACEMENT.B, triggerRect, popWH, [translate[0], -translate[1]])[1];\n        finalPosition = changePosition(position, PLACEMENT.B);\n      } else if (!changePosOnly) {\n        popupPosition[1] = overflow ? 0 : -containerRect.top;\n      }\n    } else if (!changePosOnly && popRect[3] > boundary[3]) {\n      popupPosition[1] = overflow ? Math.max(containerRect.height - popWH.height, 0) : viewPortSize[1] - containerRect.top - popWH.height;\n    }\n  } else if (direction === PLACEMENT.B) {\n    if (popRect[3] > boundary[3]) {\n      if (triggerY - boundary[1] - translate[1] >= popWH.height && triggerY - translate[1] <= boundary[3]) {\n        popupPosition[1] = getPopupOffset(PLACEMENT.T, triggerRect, popWH, [translate[0], -translate[1]])[1];\n        finalPosition = changePosition(position, PLACEMENT.T);\n      } else if (!changePosOnly) {\n        popupPosition[1] = overflow ? Math.max(containerRect.height - popWH.height, 0) : viewPortSize[1] - containerRect.top - popWH.height;\n      }\n    } else if (!changePosOnly && y < boundary[1]) {\n      popupPosition[1] = overflow ? 0 : -containerRect.top;\n    }\n  } else if (direction === PLACEMENT.L) {\n    if (x < boundary[0]) {\n      if (boundary[2] - triggerEx + translate[0] >= popWH.width && triggerEx - translate[0] >= boundary[0]) {\n        finalPosition = changePosition(position, PLACEMENT.R);\n        popupPosition[0] = getPopupOffset(PLACEMENT.R, triggerRect, popWH, [-translate[0], translate[1]])[0];\n      } else if (!changePosOnly) {\n        popupPosition[0] = overflow ? 0 : -containerRect.left;\n      }\n    } else if (!changePosOnly && popRect[2] > boundary[2]) {\n      popupPosition[0] = overflow ? Math.max(containerRect.width - popWH.width, 0) : viewPortSize[0] - containerRect.left + popWH.width;\n    }\n  } else if (direction === PLACEMENT.R) {\n    if (popRect[2] > boundary[2]) {\n      if (triggerX - boundary[0] - translate[0] >= popWH.width && triggerX - translate[0] <= boundary[2]) {\n        finalPosition = changePosition(position, PLACEMENT.L);\n        popupPosition[0] = getPopupOffset(PLACEMENT.L, triggerRect, popWH, [-translate[0], translate[1]])[0];\n      } else if (!changePosOnly) {\n        popupPosition[0] = overflow ? Math.max(containerRect.width - popWH.width, 0) : viewPortSize[0] - containerRect.left + popWH.width;\n      }\n    } else if (!changePosOnly && x < boundary[0]) {\n      popupPosition[0] = overflow ? 0 : -containerRect.left;\n    }\n  }\n\n  if (direction === PLACEMENT.T || direction === PLACEMENT.B) {\n    if (x < boundary[0]) {\n      const isBr = finalPosition === PLACEMENT.BR;\n      const l = triggerX - translate[0];\n      if ((isBr || finalPosition === PLACEMENT.TR) && l >= 0 && l + popWH.width <= boundary[2]) {\n        popupPosition[0] = l - containerRect.left;\n        finalPosition = isBr ? PLACEMENT.BL : PLACEMENT.TL;\n      } else {\n        popupPosition[0] = overflow ? Math.max(-containerRect.left, 0) : -containerRect.left;\n      }\n    } else if (popRect[2] > boundary[2]) {\n      const isBl = finalPosition === PLACEMENT.BL;\n      const l = triggerEx - translate[0];\n      if ((isBl || finalPosition === PLACEMENT.TL) && l <= boundary[2] && l - popWH.width >= boundary[0]) {\n        popupPosition[0] = l - containerRect.left - popWH.width;\n        finalPosition = isBl ? PLACEMENT.BR : PLACEMENT.TR;\n      } else {\n        popupPosition[0] = overflow ? boundary[2] - containerRect.left - popWH.width : viewPortSize[0] - containerRect.left + popWH.width;\n      }\n    }\n  } else if (direction === PLACEMENT.L || direction === PLACEMENT.R) {\n    if (y < boundary[1]) {\n      const isRb = finalPosition === PLACEMENT.RB;\n      const t = triggerY - translate[1];\n      if ((isRb || finalPosition === PLACEMENT.LB) && t >= boundary[1] && t + popWH.height <= boundary[3]) {\n        popupPosition[1] = t - containerRect.top;\n        finalPosition = isRb ? PLACEMENT.RT : PLACEMENT.LT;\n      } else {\n        popupPosition[1] = overflow ? Math.max(-containerRect.top, 0) : -containerRect.top;\n      }\n    } else if (popRect[3] > boundary[3]) {\n      const isRt = finalPosition === PLACEMENT.RT;\n      const t = triggerEy - translate[1];\n      if ((isRt || finalPosition === PLACEMENT.LT) && t <= boundary[3] && t - popWH.height >= boundary[1]) {\n        popupPosition[1] = t - containerRect.top - popWH.height;\n        finalPosition = isRt ? PLACEMENT.RB : PLACEMENT.LB;\n      } else {\n        popupPosition[1] = overflow ? boundary[3] - containerRect.top - popWH.height : viewPortSize[1] - containerRect.top - popWH.height;\n      }\n    }\n  }\n\n  let maxHeight = 0;\n  let maxWidth = 0;\n  if (needMaxHeight) {\n    if (direction === PLACEMENT.T || finalPosition === PLACEMENT.LT || finalPosition === PLACEMENT.RT) {\n      maxHeight = Math.min(popupPosition[1] + popWH.height, boundary[3] - boundary[1]);\n      if (popupPosition[1] < 0 && triggerRect.top > 0) popupPosition[1] = 0;\n    } else {\n      maxHeight = containerRect.height - popupPosition[1];\n    }\n  }\n\n  if (needMaxWidth) {\n    if (direction === PLACEMENT.L) {\n      maxWidth = popupPosition[0] + popWH.width;\n      if (popupPosition[0] < 0 && triggerRect.left > 0) popupPosition[0] = 0;\n    } else {\n      maxWidth = containerRect.width - popupPosition[0];\n    }\n  }\n\n  return [finalPosition, maxHeight, maxWidth];\n}\n\nfunction getPopStyle(\n  position: PLACEMENT,\n  containerRect: Rect,\n  triggerRect: Rect,\n  popWH: Rect,\n  translate: number[],\n  // eslint-disable-next-line default-param-last\n  autoFit = true,\n  overflow?: boolean,\n  coverTrigger?: boolean,\n  arrowWH?: Rect,\n  hideOnInvisible?: boolean,\n  changePosOnly?: boolean,\n  needMaxHeight?: boolean,\n  needMaxWidth?: boolean,\n): Position {\n  const triggerOut = triggerRect.left >= containerRect.width\n  || triggerRect.top >= containerRect.height\n  || triggerRect.left + triggerRect.width <= 0\n  || triggerRect.top + triggerRect.height <= 0;\n\n  if (hideOnInvisible && triggerOut) {\n    return { position };\n  }\n\n  let der = getBoundaryPosition(position);\n  if (coverTrigger) {\n    translate = [...translate];\n    if (der === PLACEMENT.T) {\n      translate[1] += triggerRect.height;\n    } else if (der === PLACEMENT.B) {\n      translate[1] -= triggerRect.height;\n    } else if (der === PLACEMENT.L) {\n      translate[0] += triggerRect.width;\n    } else {\n      translate[0] -= triggerRect.width;\n    }\n  }\n\n  const popupPosition = getPopupOffset(position, triggerRect, popWH, translate);\n\n  let maxHeight = 0;\n  let maxWidth = 0;\n\n  if (autoFit) {\n    [position, maxHeight, maxWidth] = getFitPosition(\n      position,\n      popupPosition,\n      containerRect,\n      popWH,\n      triggerRect,\n      translate,\n      der,\n      overflow,\n      changePosOnly,\n      needMaxHeight,\n      needMaxWidth,\n    );\n  }\n\n  let arrowXY: undefined | number[];\n  if (!triggerOut && arrowWH) {\n    der = getBoundaryPosition(position);\n    arrowXY = [];\n    const half = [arrowWH.width / 2, arrowWH.height / 2];\n    const isL = der === PLACEMENT.L;\n    if (isL || der === PLACEMENT.R) {\n      arrowXY[1] = triggerRect.top + triggerRect.height / 2 - popupPosition[1] - half[1];\n      if (arrowXY[1] < half[1] || arrowXY[1] > popWH.height - arrowWH.height - half[1]) {\n        arrowXY = undefined;\n      } else {\n        arrowXY[0] = (isL ? maxWidth ? Math.min(maxWidth, popWH.width) : popWH.width : 0) - half[0];\n      }\n    } else {\n      arrowXY[0] = triggerRect.left + triggerRect.width / 2 - popupPosition[0] - half[0];\n      if (arrowXY[0] < half[0] || arrowXY[0] > popWH.width - arrowWH.width - half[0]) {\n        arrowXY = undefined;\n      } else {\n        arrowXY[1] = (der === PLACEMENT.T ? maxHeight ? Math.min(maxHeight, popWH.height) : popWH.height : 0) - half[1];\n      }\n    }\n  }\n\n  return {\n    xy: popupPosition,\n    arrowXY,\n    position,\n    maxHeight,\n    maxWidth,\n  };\n}\n\nfunction createArrowWrapper() {\n  const arrowEl = $();\n  const style = arrowEl.style;\n  style.position = 'absolute';\n  style.left = style.top = '0';\n  style.zIndex = '-1';\n  return arrowEl;\n}\n\nfunction getTransitionInfo(el: Element): TransitionInfo {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key: keyof typeof styles) => ((styles[key] || '') as any).split(', ');\n  const transitionDelays = getStyleProperties('transitionDelay');\n  const transitionDurations = getStyleProperties('transitionDuration');\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties('animationDelay');\n  const animationDurations = getStyleProperties('animationDuration');\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  const timeout = Math.max(transitionTimeout, animationTimeout);\n\n  return {\n    event: timeout > 0 ? transitionTimeout > animationTimeout ? 'transitionend' : 'animationend' : undefined,\n    timeout,\n  };\n}\n\nfunction getTimeout(delays: string[], durations: string[]): number {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\n\nfunction toMs(s: string): number {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000;\n}\n\nfunction isElClipped(element: Element) {\n  const {\n    overflow, overflowX, overflowY,\n  } = window.getComputedStyle(element);\n  const o = overflow + overflowY + overflowX;\n  return o.includes('hidden') || o.includes('clip');\n}\n\nfunction hideDom(el: HTMLElement) {\n  const { style } = el;\n  style.opacity = '0';\n  style.pointerEvents = 'none';\n}\nfunction showDom(el: HTMLElement) {\n  const { style } = el;\n  style.opacity = style.pointerEvents = '';\n}\n\nfunction isScrollElement(element: HTMLElement) {\n  return (\n    element.scrollHeight > element.offsetHeight\n    || element.scrollWidth > element.offsetWidth\n  );\n}\n\nfunction getScrollElements(el: HTMLElement, container: HTMLElement) {\n  const scrollElements: HTMLElement[] = [];\n  while (el && el !== container) {\n    if (isScrollElement(el)) {\n      scrollElements.push(el);\n    }\n    el = el.parentElement!;\n  }\n  if (scrollElements.length) return scrollElements;\n}\n","import {\n  Popper, createArrow, PLACEMENT, EmitType,\n} from '../src';\n\nwindow.onload = function () {\n  const container = document.querySelector('.container')! as HTMLElement;\n  const c = document.querySelector('.c')! as HTMLElement;\n  const btn = document.querySelector('#btn')! as HTMLElement;\n  const content = document.createElement('div');\n  content.classList.add('content');\n\n  const cbb = container.getBoundingClientRect();\n\n  c.scrollTop = (2000 - cbb.height) / 2 + 10;\n  c.scrollLeft = (2000 - cbb.width) / 2 + 10;\n\n  // btn.onclick = () => {\n  //   popup.toggle();\n  // };\n\n  const arrow = createArrow(undefined, 'arrow');\n\n  const config = {\n    container,\n    content,\n    trigger: btn,\n    autoPlacement: true,\n    autoUpdate: true,\n    autoScroll: true,\n    translate: [0, -10],\n    arrow,\n    cssName: 'fade',\n    placement: PLACEMENT.T,\n    openDelay: 0,\n    closeDelay: 50,\n    emit: EmitType.CLICK,\n    open: true,\n  };\n  const popup = new Popper(config as any);\n\n  const update = () => {\n    popup.updateConfig(config);\n  };\n\n  const selection = document.querySelector('.section') as HTMLElement;\n  selection.onchange = ({ target }) => {\n    const { name, value, checked } = target as any;\n    if (name === 'cb') {\n      if (value === 'arrow') {\n        config.arrow = (checked ? arrow : undefined) as any;\n      } else if (value === 'css') {\n        config.cssName = checked ? 'fade' : '';\n      } else {\n        config[value] = checked;\n      }\n      update();\n    } else if (name === 'placement') {\n      config.placement = value;\n      update();\n    } else if (name === 'emit') {\n      config.emit = value || undefined;\n      update();\n    }\n  };\n\n  const transXs = document.querySelector('.translate-x-s') as HTMLElement;\n  const transYs = document.querySelector('.translate-y-s') as HTMLElement;\n  const openD = document.querySelector('.open-delay') as HTMLElement;\n  const closeD = document.querySelector('.close-delay') as HTMLElement;\n\n  selection.oninput = ({ target }) => {\n    const { name, value } = target as any;\n    if (name === 'translateX') {\n      transXs.textContent = `${value}px`;\n      config.translate = [Number(value), config.translate[1]];\n      update();\n    } else if (name === 'translateY') {\n      transYs.textContent = `${value}px`;\n      config.translate = [config.translate[0], Number(value)];\n      update();\n    } else if (name === 'openDelay') {\n      openD.textContent = `${value}ms`;\n      config.openDelay = Number(value);\n      update();\n    } else if (name === 'closeDelay') {\n      closeD.textContent = `${value}ms`;\n      config.closeDelay = Number(value);\n      update();\n    }\n  };\n};\n"],"names":["PLACEMENT","EmitType","isBrowser","window","document","options","Object","defineProperty","get","addEventListener","e","destroyableMap","Map","SELECTOR_REGEX","$","desc","attrs","children","classPrefix","arguments","length","undefined","match","exec","o","el","createElement","id","className","replace","concat","trim","keys","forEach","name","value","setAttribute","String","innerHTML","c","appendChild","addClass","dom","cls","prefix","classList","split","add","oldCls","baseVal","map","join","removeClass","remove","Drag","start","move","end","_this","_classCallCheck","this","pending","downHandler","ev","setPointerCapture","pointerId","moveHandler","upHandler","lastEv","rafId","requestAnimationFrame","handlerMove","removePointerEvents","cancelAnimationFrame","_createClass","key","removeEventListener","clamp","n","lower","upper","Math","max","min","queueMicrotask","Popper","config","fn","ctx","first","args","_this2","opened","isAnimating","closed","popHide","arrowHide","onScroll","closeOnScroll","close","update","apply","onTriClick","closeWithDelay","openWithDelay","onTriEnter","clearOCTimer","onTriLeave","clearTimeout","openTimer","closeTimer","removeDocClick","onDocClick","_ref","target","onClickOutside","clickOutsideClose","_this2$el","_config$trigger","contains","isTriggerEl","trigger","clickOutsideIgnoreEl","onShowTransitionEnd","cssName","onEntered","enterActive","enterTo","onHideTransitionEnd","onExited","hide","exitActive","exitTo","init","_this3","cfg","_objectSpread","container","body","placement","T","autoPlacement","autoUpdate","autoScroll","closeAni","enterable","maxHeight","translate","getConfig","cel","style","position","left","top","_config","content","overflowHidden","element","_window$getComputedSt","getComputedStyle","overflow","overflowX","overflowY","includes","isElClipped","Element","observe","needListenScroll","scrollEls","getScrollElements","arrow","arrowEl","createArrowWrapper","setCssName","addTriEv","addEnterEv","open","keepDom","hideDom","_this4","changed","newV","oldV","updateOld","patch","x","push","getChangedAttrs","_ref2","_ref3","_slicedToArray","k","removeChild","removeEmitEv","removeEnterEv","ro","unobserve","showDom","oldIsTriggerEl","triggerOpenClass","removeScrollEv","_this4$scrollEls","passive","disconnect","disable","maxWidth","_this$clearShow","_this$clearHide","showRaf","hideRaf","clearShow","call","clearHide","drag","destroy","has","item","delete","_this5","disabled","fromHide","_this$scrollEls","show","cStyle","needMaxHeight","needMaxWidth","popBcr","getBoundingClientRect","containerBcr","arrowBcr","triggerBcr","width","height","onBeforeEnter","enterFrom","info","getTransitionInfo","showTransInfo","clear","promise","then","ret","useTriggerPos","xy","containerRect","triggerRect","popWH","autoFit","coverTrigger","arrowWH","hideOnInvisible","changePosOnly","triggerOut","der","getBoundaryPosition","_toConsumableArray","B","L","arrowXY","popupPosition","getPopupOffset","_getFitPosition","direction","viewPortSize","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","boundary","y","popRect","triggerX","triggerY","triggerEx","triggerEy","finalPosition","changePosition","R","isBr","BR","l","TR","BL","TL","isBl","isRb","RB","t","LB","RT","LT","isRt","getFitPosition","_getFitPosition2","half","isL","getPopStyle","onBeforePosition","onOpen","prevP","transform","dragEl","diffXY","curXY","maxX","maxY","clientX","clientY","_this6","onClose","onBeforeExit","exitFrom","hideTransInfo","_this7","openDelay","setTimeout","_this8","closeDelay","_this9","ResizeObserver","emit","CLICK","HOVER","_this$scrollEls2","_this10","Promise","resolve","_ref4","styles","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","timeout","event","_clear","timer","_clear2","zIndex","delays","durations","d","i","toMs","s","Number","slice","opacity","pointerEvents","scrollElements","scrollHeight","offsetHeight","scrollWidth","offsetWidth","parentElement","onload","querySelector","btn","cbb","scrollTop","scrollLeft","assign","transformOrigin","popup","updateConfig","selection","onchange","_ref5","checked","transXs","transYs","openD","closeD","oninput","_ref6","textContent"],"mappings":"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"}